---
phase: 04-voter-guide-decomposition
plan: 02
type: execute
depends_on: ["04-01"]
files_modified:
  - src/components/VoterGuide/VoterGuideHeader.tsx
  - src/components/VoterGuide/VoterGuideFooter.tsx
  - src/components/VoterGuide/VoterGuideSummary.tsx
  - src/components/VoterGuide/index.ts
  - src/app/voter-guide/page.tsx
---

<objective>
Extract UI components from voter-guide/page.tsx to complete the decomposition.

Purpose: Further reduce page.tsx complexity by extracting header, footer, and summary card into reusable components.
Output: Three new UI components with page.tsx as a clean orchestration layer (~350 lines).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STRUCTURE.md

@src/app/voter-guide/page.tsx
@src/components/VoterGuide/index.ts

**Prior plan context:**
@.planning/phases/04-voter-guide-decomposition/04-01-SUMMARY.md

**Tech stack available:** Next.js 16, React 19, TypeScript strict mode, Tailwind CSS v4
**Established patterns:**
- Components in `src/components/VoterGuide/` with PascalCase
- Barrel exports via index.ts
- Glassmorphic design tokens (glass-surface, atmospheric-bg, etc.)
- DemoBadge inline with titles using flexbox

**Constraining decisions:**
- Phase 3: DemoBadge pattern established
- Plan 01: Custom hooks extracted (useVoterGuideData, useAddressLookup)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract VoterGuideHeader and VoterGuideFooter components</name>
  <files>src/components/VoterGuide/VoterGuideHeader.tsx, src/components/VoterGuide/VoterGuideFooter.tsx, src/components/VoterGuide/index.ts, src/app/voter-guide/page.tsx</files>
  <action>
Extract header and footer from page.tsx:

1. Create `src/components/VoterGuide/VoterGuideHeader.tsx`:
   - Extract header JSX (lines ~329-358 in original)
   - Props: none needed (static content)
   - Include: Back to Map link, SC Voter Guide title, 2026 Elections subtitle
   - Keep glassmorphic styling (glass-surface, sticky, z-50)

2. Create `src/components/VoterGuide/VoterGuideFooter.tsx`:
   - Extract footer JSX (lines ~608-647 in original)
   - Props: none needed (static content)
   - Include: Data source links (SC Ethics Commission, SC Election Commission, Ballotpedia)
   - Keep styling (border-t, text-center)

3. Update `src/components/VoterGuide/index.ts`:
   - Add exports for VoterGuideHeader, VoterGuideFooter

4. Update page.tsx:
   - Import VoterGuideHeader, VoterGuideFooter from '@/components/VoterGuide'
   - Replace inline header/footer JSX with component usage

Both components are presentational with no props - pure extraction.
  </action>
  <verify>npm run build succeeds, npm run lint passes, header and footer render correctly</verify>
  <done>VoterGuideHeader.tsx and VoterGuideFooter.tsx exist, exported from index.ts, page.tsx uses them</done>
</task>

<task type="auto">
  <name>Task 2: Extract VoterGuideSummary component and final cleanup</name>
  <files>src/components/VoterGuide/VoterGuideSummary.tsx, src/components/VoterGuide/index.ts, src/app/voter-guide/page.tsx</files>
  <action>
Extract the KPI summary card and complete page.tsx cleanup:

1. Create `src/components/VoterGuide/VoterGuideSummary.tsx`:
   - Extract KPI summary card JSX (lines ~407-486 in original)
   - Props interface:
     ```typescript
     interface VoterGuideSummaryProps {
       raceCount: number;
       countyName: string | null;
       shareUrl: string | null;
       onShare: () => void;
       onPrint: () => void;
       onReset: () => void;
     }
     ```
   - Include: Race count display, county badge, Share/Print/Reset buttons
   - Keep glassmorphic styling (kpi-summary-card, gradient-text, animate-in)
   - Keep no-print class on action buttons

2. Update `src/components/VoterGuide/index.ts`:
   - Add export for VoterGuideSummary

3. Update page.tsx:
   - Import VoterGuideSummary from '@/components/VoterGuide'
   - Calculate raceCount in component (keep logic inline, it's simple)
   - Pass props: raceCount, countyName, shareUrl, onShare={handleCopyShareLink}, onPrint={() => window.print()}, onReset={handleReset}
   - Replace inline KPI card JSX with VoterGuideSummary component

4. Final cleanup of page.tsx:
   - Ensure all imports are clean (remove unused)
   - Verify component is now ~350 lines (down from 666)
   - Ensure no console warnings or TypeScript errors

The page.tsx should now be a clean orchestration layer: hooks for logic, components for UI.
  </action>
  <verify>npm run build succeeds, npm run lint passes, summary card displays correctly with working Share/Print/Reset buttons, page.tsx is ~350 lines</verify>
  <done>VoterGuideSummary.tsx exists with proper props, page.tsx is clean orchestration layer at ~350 lines, all functionality preserved</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] No TypeScript errors
- [ ] Voter guide page loads correctly
- [ ] Header navigation works (Back to Map link)
- [ ] Footer links work (external data sources)
- [ ] Summary card displays race count and county
- [ ] Share button copies URL to clipboard
- [ ] Print button triggers print dialog
- [ ] Reset button clears results
- [ ] page.tsx is ~350 lines (was 666)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Three new components in src/components/VoterGuide/
- page.tsx reduced from 666 to ~350 lines
- All voter guide functionality preserved
- Phase 4 complete
</success_criteria>

<output>
After completion, create `.planning/phases/04-voter-guide-decomposition/04-02-SUMMARY.md`:

# Phase 4 Plan 02: Extract UI Components Summary

**[Substantive one-liner about what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `src/components/VoterGuide/VoterGuideHeader.tsx` - Header component
- `src/components/VoterGuide/VoterGuideFooter.tsx` - Footer component
- `src/components/VoterGuide/VoterGuideSummary.tsx` - KPI summary card
- `src/components/VoterGuide/index.ts` - Updated exports
- `src/app/voter-guide/page.tsx` - Final cleanup

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 4 complete, ready for Phase 5: County Contact Extraction
</output>
