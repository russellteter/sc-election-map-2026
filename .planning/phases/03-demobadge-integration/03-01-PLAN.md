---
phase: 03-demobadge-integration
plan: 01
type: execute
depends_on: []
files_modified:
  - src/components/VoterGuide/StatewideRaces.tsx
  - src/components/VoterGuide/CongressionalRaces.tsx
  - src/components/VoterGuide/JudicialRaces.tsx
  - src/components/VoterGuide/SchoolBoardRaces.tsx
  - src/components/VoterGuide/SpecialDistricts.tsx
  - src/components/VoterGuide/BallotMeasures.tsx
  - src/components/VoterGuide/CountyRaces.tsx
---

<objective>
Add DemoBadge to all Voter Guide components displaying demo or partial data to ensure transparency about data sources.

Purpose: Clear labeling of demo vs real data builds user trust and meets the "neutral public UI" requirement. Phase 2 added real county incumbent data, but most other voter guide data remains demo/placeholder.
Output: All voter guide components with demo data display DemoBadge; CountyRaces shows real data acknowledgment with party data disclaimer.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-county-candidate-data/02-01-SUMMARY.md

**Relevant source files:**
@src/components/ui/DemoBadge.tsx
@src/components/Race/RaceProfileClient.tsx (reference - already uses DemoBadge correctly)
@src/components/VoterGuide/StatewideRaces.tsx
@src/components/VoterGuide/CongressionalRaces.tsx
@src/components/VoterGuide/CountyRaces.tsx
@src/components/VoterGuide/JudicialRaces.tsx
@src/components/VoterGuide/SchoolBoardRaces.tsx
@src/components/VoterGuide/SpecialDistricts.tsx
@src/components/VoterGuide/BallotMeasures.tsx

**Data status from Phase 2:**
- County incumbents: REAL (scraped from sheriffsc.org + sccounties.org)
- County party affiliations: Partial (only 24/300 officials have party data)
- All other voter guide data: Demo/placeholder

**Tech stack available:**
- DemoBadge component exists at @/components/ui/DemoBadge
- Exported from @/components/ui/index.ts barrel file

**Constraining decisions:**
- Phase A: DemoBadge component created for transparency
- Phase 2: County data is REAL incumbents, but party data incomplete
- Project: "Neutral public UI" - clear labeling builds trust

**Components NOT needing DemoBadge:**
- ElectionCountdown (real dates)
- VoterResources (static links)
- PollingPlaceFinder (real geocoding API)
- DistrictResults (real GeoJSON boundaries)
- AddressAutocomplete, AddressInput, SkeletonLoaders (UI only)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add DemoBadge to demo data components</name>
  <files>src/components/VoterGuide/StatewideRaces.tsx, src/components/VoterGuide/CongressionalRaces.tsx, src/components/VoterGuide/JudicialRaces.tsx, src/components/VoterGuide/SchoolBoardRaces.tsx, src/components/VoterGuide/SpecialDistricts.tsx, src/components/VoterGuide/BallotMeasures.tsx</files>
  <action>
    Add DemoBadge to each component's section header, following the pattern used in RaceProfileClient.tsx:

    1. Add import: `import { DemoBadge } from '@/components/ui';`

    2. Place DemoBadge in section header, after the title/description div. Use consistent placement:
       - Inside the section-header-accent div
       - After the title/subtitle text block
       - Use size="sm" (default) for compact inline display

    3. For each component:
       - StatewideRaces: Add after "All SC voters vote for these offices" subtitle
       - CongressionalRaces: Add after "Federal representatives for your area" subtitle
       - JudicialRaces: Add after "State and circuit court positions" subtitle
       - SchoolBoardRaces: Add after "School district board elections" subtitle
       - SpecialDistricts: Add after "Local special purpose districts" subtitle
       - BallotMeasures: Add after "Proposed amendments and referendums" subtitle

    4. Placement approach: Add DemoBadge as a flex item in the section header, positioned at the right side or below the subtitle. Keep consistent with existing glassmorphic design system.

    AVOID: Adding DemoBadge to individual cards (too noisy). One badge per section header is sufficient.
  </action>
  <verify>npm run build passes; visually verify DemoBadge appears in each section header when viewing /voter-guide</verify>
  <done>6 components have DemoBadge in their section headers; build succeeds; no TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Add real data indicator for CountyRaces</name>
  <files>src/components/VoterGuide/CountyRaces.tsx</files>
  <action>
    CountyRaces has REAL incumbent data from Phase 2 scraping, but party affiliations are incomplete. Handle differently than demo components:

    1. Do NOT add standard DemoBadge (data is real, not demo)

    2. Add a subtle "Data Source" indicator in the section header showing this is real data:
       - Create a small info badge/text that says "Real incumbent data" or similar
       - Style consistently with existing badges (use green/healthy colors since it's real data)
       - Add tooltip or title explaining: "Incumbent names verified from official sources. Party affiliations may be incomplete."

    3. In the fallback message (when no county data), keep existing "County races coming soon" messaging - no change needed there.

    4. Alternative approach if indicator feels too complex: Simply don't add any badge to CountyRaces. The absence of DemoBadge implies real data. Document this decision in the summary.

    AVOID: Misleading users about data status. If we add any indicator, it must be accurate.
  </action>
  <verify>npm run build passes; CountyRaces displays appropriately (either with real data indicator or without any badge)</verify>
  <done>CountyRaces component handles real data status appropriately; no DemoBadge confusion; build succeeds</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] All 6 demo data components have DemoBadge visible in section headers
- [ ] CountyRaces does NOT have misleading DemoBadge (it has real data)
- [ ] Visual inspection at /voter-guide shows badges are consistently styled
- [ ] No TypeScript errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- DemoBadge visible on all demo data sections
- CountyRaces handled appropriately (real data, no DemoBadge)
- Consistent visual styling across all section headers
</success_criteria>

<output>
After completion, create `.planning/phases/03-demobadge-integration/03-01-SUMMARY.md`:

# Phase 3 Plan 01: DemoBadge Integration Summary

**[Substantive one-liner]**

## Accomplishments

- Added DemoBadge to [X] voter guide components
- [How CountyRaces was handled]

## Files Created/Modified

- `src/components/VoterGuide/*.tsx` - Added DemoBadge imports and placement

## Decisions Made

- [Badge placement decisions]
- [CountyRaces handling rationale]

## Issues Encountered

[Any issues, or "None"]

## Next Phase Readiness

Ready for Phase 4: Voter Guide Decomposition
</output>
