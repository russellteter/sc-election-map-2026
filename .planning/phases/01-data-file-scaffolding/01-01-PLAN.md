---
phase: 01-data-file-scaffolding
plan: 01
type: execute
depends_on: []
files_modified: [public/data/judicial-races.json, public/data/school-board.json, public/data/ballot-measures.json, public/data/special-districts.json]
---

<objective>
Move Tier 3 data files from src/data/ to public/data/ for runtime access.

Purpose: The dataLoader.ts expects judicial-races.json, school-board.json, ballot-measures.json, and special-districts.json in public/data/ for progressive loading. These files exist in src/data/ but are inaccessible to the client-side fetch.

Output: Four JSON files in public/data/ accessible via the dataLoader's loadOnScroll() method.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Source files (exist, need copying):**
@src/data/judicial-races.json
@src/data/school-board.json
@src/data/ballot-measures.json
@src/data/special-districts.json

**Target location pattern:**
@public/data/candidates.json (reference for existing pattern)

**Data loader expecting these files:**
@src/lib/dataLoader.ts (loadOnScroll method, lines 74-82)

**Types already defined:**
@src/types/schema.ts (JudicialRacesData, SchoolBoardData, BallotMeasuresData, SpecialDistrictsData)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Tier 3 data files to public/data/</name>
  <files>public/data/judicial-races.json, public/data/school-board.json, public/data/ballot-measures.json, public/data/special-districts.json</files>
  <action>
Copy the 4 JSON files from src/data/ to public/data/:
- cp src/data/judicial-races.json public/data/judicial-races.json
- cp src/data/school-board.json public/data/school-board.json
- cp src/data/ballot-measures.json public/data/ballot-measures.json
- cp src/data/special-districts.json public/data/special-districts.json

These files contain:
- judicial-races.json: SC Supreme Court, Court of Appeals, and 16 circuit courts
- school-board.json: 10 school districts with their board races
- ballot-measures.json: 3 statewide measures + local measures for 5 counties
- special-districts.json: Fire, water, recreation districts for 10 counties

Do NOT delete the originals from src/data/ - they may be used for direct imports in development or testing.
  </action>
  <verify>ls -la public/data/*.json | grep -E "(judicial|school|ballot|special)" shows all 4 files exist with non-zero size</verify>
  <done>All 4 JSON files present in public/data/ with correct content</done>
</task>

<task type="auto">
  <name>Task 2: Verify dataLoader can fetch files</name>
  <files>N/A (verification only)</files>
  <action>
Start the dev server and verify the files are accessible:
1. npm run dev (start server)
2. curl http://localhost:3000/data/judicial-races.json (should return JSON)
3. curl http://localhost:3000/data/school-board.json (should return JSON)
4. curl http://localhost:3000/data/ballot-measures.json (should return JSON)
5. curl http://localhost:3000/data/special-districts.json (should return JSON)

Each curl should return valid JSON with lastUpdated field.

If running in production mode (GitHub Pages), the paths would be:
/sc-election-map-2026/data/judicial-races.json (etc.)

The dataLoader.ts handles this path adjustment automatically via basePath.
  </action>
  <verify>All 4 curl commands return valid JSON with HTTP 200</verify>
  <done>All Tier 3 data files accessible via HTTP from public/data/</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] All 4 JSON files exist in public/data/
- [ ] Files have correct content (lastUpdated field, expected structure)
- [ ] Dev server serves files at /data/*.json paths
- [ ] No TypeScript or build errors (npm run build)
</verification>

<success_criteria>

- All 4 Tier 3 data files copied to public/data/
- Files accessible via dataLoader.loadOnScroll() paths
- Build passes without errors
- Phase 1: Data File Scaffolding complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-data-file-scaffolding/01-01-SUMMARY.md`:

# Phase 1 Plan 01: Data File Scaffolding Summary

**[One-liner describing what shipped]**

## Accomplishments

- Copied judicial-races.json to public/data/
- Copied school-board.json to public/data/
- Copied ballot-measures.json to public/data/
- Copied special-districts.json to public/data/

## Files Created/Modified

- `public/data/judicial-races.json` - SC judicial courts and circuits
- `public/data/school-board.json` - 10 school district board races
- `public/data/ballot-measures.json` - Statewide and local ballot measures
- `public/data/special-districts.json` - Fire, water, recreation districts

## Decisions Made

None - straightforward file copy.

## Issues Encountered

[Any issues or "None"]

## Next Step

Phase 1 complete. Ready for Phase 2: County Candidate Data.
</output>
