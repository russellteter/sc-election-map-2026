---
phase: 01-data-enrichment
plan: 02
type: execute
depends_on: []
sheets_modified:
  - Districts tab (columns L-O)
domain: google-sheets
---

<objective>
Enrich incumbent data in the Districts tab with term information and election history.

Purpose: Understanding how long incumbents have served and their election margins helps prioritize recruitment in districts with potential vulnerabilities.

Output: Districts tab with incumbent term length, first elected year, last election margin, and term status columns.
</objective>

<execution_context>
**Google Sheet:** https://docs.google.com/spreadsheets/d/17j_KFZFUw-ESBQlKlIccUMpGCFq_XdeL6WYph7zkxQo/edit

**Current Districts tab structure (after Plan 01-01):**
- A: district_id
- B: district_name
- C: chamber
- D: district_number
- E: incumbent_name
- F: incumbent_party
- G: incumbent_since
- H: next_election
- I: primary_county (from 01-01)
- J: all_counties (from 01-01)
- K: region (from 01-01)

**New columns to add (L-O):**
- L: terms_served (calculated from incumbent_since)
- M: last_election_margin (percentage, e.g., +12.5 or -3.2)
- N: last_election_votes (total votes received)
- O: term_status (First-term, Veteran, Long-serving, Open)

**SC House terms:** 2 years (elected every even year)
**SC Senate terms:** 4 years (staggered - half elected every 2 years)

**Data sources:**
- scvotes.gov - Official election results
- scstatehouse.gov - Member biographies
- ballotpedia.org - Election history

**Term status definitions:**
- First-term: Serving 1st term (elected 2024 for House, 2022/2024 for Senate)
- Veteran: 2-4 terms served
- Long-serving: 5+ terms served
- Open: Seat vacant or incumbent not seeking re-election
</execution_context>

<tasks>

<task type="manual">
  <name>Task 1: Add incumbent enrichment columns</name>
  <sheets>Districts tab</sheets>
  <action>
In Google Sheets:

1. Navigate to Districts tab
2. In cell L1, enter: `terms_served`
3. In cell M1, enter: `last_election_margin`
4. In cell N1, enter: `last_election_votes`
5. In cell O1, enter: `term_status`

6. Format the new header row:
   - Bold text
   - Background color matching existing headers

7. Set column widths:
   - Column L: 100px
   - Column M: 130px
   - Column N: 130px
   - Column O: 100px

8. Add formula for terms_served in L2:
   ```
   =IF(G2="", "", ROUNDDOWN((2026-G2)/IF(C2="House",2,4),0))
   ```
   Copy formula down to L171

9. Add formula for term_status in O2:
   ```
   =IF(E2="", "Open", IF(L2<=1, "First-term", IF(L2<=4, "Veteran", "Long-serving")))
   ```
   Copy formula down to O171
  </action>
  <verify>
- Columns L-O have headers
- terms_served formula calculates correctly (test a known incumbent)
- term_status shows appropriate category
  </verify>
  <done>Incumbent enrichment columns added with formulas for terms_served and term_status</done>
</task>

<task type="manual">
  <name>Task 2: Populate last election margin for House districts</name>
  <sheets>Districts tab, rows 2-125</sheets>
  <action>
For each House district with an incumbent:

1. Visit scvotes.gov or ballotpedia
2. Find 2024 general election results for the district
3. Calculate margin: (winner_votes - runner_up_votes) / total_votes * 100
4. Enter as positive number if incumbent won, negative if incumbent lost (rare)
5. Enter total votes in column N

**Data entry format:**
- Margin: Enter as decimal (e.g., 12.5 for +12.5%)
- Votes: Enter as integer (e.g., 15234)

**For unopposed races:**
- Margin: Leave blank or enter "Unopposed"
- Votes: Enter total votes received

**Note:** Focus on 2024 results first. If no 2024 race (incumbent elected in 2022 special), use that race.

**Efficiency tip:** Use ballotpedia's bulk export or scvotes.gov county-by-county results.
  </action>
  <verify>
- All House districts with incumbents have margin data (or "Unopposed")
- Vote totals are reasonable (typically 10,000-50,000 for House)
  </verify>
  <done>2024 election margins populated for all House incumbents</done>
</task>

<task type="manual">
  <name>Task 3: Populate last election margin for Senate districts</name>
  <sheets>Districts tab, rows 126-171</sheets>
  <action>
For each Senate district with an incumbent:

1. Determine last election year (2022 or 2024 depending on staggered cycle)
2. Look up results on scvotes.gov or ballotpedia
3. Enter margin and vote totals

**Note:** Senate races have higher turnout - expect 30,000-80,000 votes per district.

**Staggered elections:**
- Odd-numbered Senate districts: Elected 2020, 2024
- Even-numbered Senate districts: Elected 2022, 2026

Check which cycle applies to each seat.
  </action>
  <verify>
- All Senate districts with incumbents have margin data
- Vote totals appropriate for Senate races
  </verify>
  <done>Last election margins populated for all Senate incumbents</done>
</task>

<task type="manual">
  <name>Task 4: Add data validation and conditional formatting</name>
  <sheets>Districts tab, columns L-O</sheets>
  <action>
1. **Column M (last_election_margin) validation:**
   - No strict validation (can be number or "Unopposed")
   - Add conditional formatting:
     - <5%: Yellow background (competitive)
     - <10%: Light yellow (somewhat competitive)
     - Blank/Unopposed: Gray background

2. **Column O (term_status) conditional formatting:**
   - First-term: Light blue background
   - Veteran: No color
   - Long-serving: Light purple background
   - Open: Red background (high priority)

3. **Column N (last_election_votes):**
   - Number format with commas
   - Right-aligned

4. **Protect formula columns:**
   - Protect columns L and O (contain formulas)
   - Allow edit on M and N only
  </action>
  <verify>
- Conditional formatting highlights competitive districts
- Formula columns are protected
- Number formatting displays correctly
  </verify>
  <done>Data validation and conditional formatting applied to incumbent columns</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 170 districts have terms_served calculated
- [ ] All 170 districts have term_status showing
- [ ] House incumbents have 2024 election margins (where applicable)
- [ ] Senate incumbents have last election margins
- [ ] Conditional formatting highlights competitive races
- [ ] Python sync still works: `python -m src.monitor --dry-run`
</verification>

<success_criteria>
- Districts tab enriched with incumbent term and election data
- terms_served and term_status formulas working correctly
- Election margins populated for all incumbents with contested races
- Visual formatting highlights competitive districts
- Existing sync functionality unaffected
</success_criteria>

<output>
After completion, create `.planning/phases/01-data-enrichment/01-02-SUMMARY.md` with:
- Count of incumbents by term_status category
- Most competitive districts identified (margin < 5%)
- Any data gaps (missing election results)
- Recommendations for prioritization
</output>
